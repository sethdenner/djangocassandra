{% extends 'knotis/layout/base.html' %}
{% load render_template_fragment %}

{% block header %}
<!-- Primary Navigation -->

<nav class="nav navbar navbar-default navbar-fixed-top"
     style="background-image: url('{{STATIC_URL}}knotis/img/knotis_logo_nav.png');" role="navigation">
    <div class="container-fluid">
        <a href="/" class="invisible-floater-left"></a>
        <a href="/" class="invisible-floater-right"></a>

        <div class="row">
            <label for="mainNavMobileToggle" class="col-xs-1 button icon-menu2 unselectable clickable mobileMenuToggle"></label>
            <!-- Search Form -->
            <div class="col-lg-4 col-xs-4 searchForm">
                {% render_fragment search_bar %}
                <div class="col-lg-1 col-xs-1 searchButton"></div>
            </div>
            <!-- // End Search Form -->

            <!--
            <div class="col-lg-4 col-xs-4 logo">
                <div class="logo">
                    <a href="/" data-target-id="main-content" ><img src="{{ STATIC_URL }}knotis/img/knotis_logo_nav.png" alt="Knotis"/></a>
                </div>
            </div>
            --!>

            {% if user.is_authenticated %}
                <div class="col-lg-4 col-xs-4 identitySwitcher">
                    {% render_fragment identity_switcher %}
                </div>
            {% else %}

                <div class="col-lg-4 col-xs-4" id="auth-controls">
                    <div class="authBtns">
                        <a href="/login/" class="btn btn-primary btn-lg logIn modal-link" data-modal-id="auth-modal">
                            Log In
                        </a>
                        <a href="/signup/" class="btn btn-primary btn-lg signUp modal-link" data-modal-id="auth-modal">
                            Sign Up
                        </a>
                        <a href="/signup/" class="btn btn-primary btn-lg signUpMobile modal-link" data-modal-id="auth-modal">
                            Sign Up/In
                        </a>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</nav>
<!-- // End Primary Navigation -->
</div>
{% endblock header %}

{% block navigation %}
{% render_fragment nav_side %}
{% endblock navigation %}

{% block content %}
{% if content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12 col-xs-12">
            <div id="main-content" class="contentBlock">{{ content }}</div>
        </div>
    </div>
</div>
{% else %}
{{ block.super }}
{% endif %}
{% endblock content %}

{% block modal %}
{% if modal_content %}
{{ modal_content }}
{% else %}
{{ block.super }}
{% endif %}
{% endblock modal %}
